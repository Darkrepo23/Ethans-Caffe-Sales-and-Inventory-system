{
    "sourceFile": "codes/index.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1769763892836,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1769763971478,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -445,9 +445,9 @@\n                         </button>\r\n                     </div>\r\n                 </div>\r\n                 \r\n-                <div class=\"form-group role-selector\">\r\n+                <!-- <div class=\"form-group role-selector\">\r\n                     <label class=\"form-label\">\r\n                         <i class=\"fas fa-user-tag me-2\"></i>Login As\r\n                     </label>\r\n                     <div class=\"role-buttons\">\r\n@@ -463,9 +463,9 @@\n                             <i class=\"fas fa-crown\"></i>\r\n                             Owner\r\n                         </div>\r\n                     </div>\r\n-                </div>\r\n+                </div> -->\r\n                 \r\n                 <button type=\"submit\" class=\"btn-login\" id=\"loginBtn\">\r\n                     <span id=\"loginText\">Login to System</span>\r\n                     <span id=\"loginSpinner\" class=\"spinner-border spinner-border-sm d-none\" role=\"status\"></span>\r\n"
                },
                {
                    "date": 1769763978084,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -445,9 +445,9 @@\n                         </button>\r\n                     </div>\r\n                 </div>\r\n                 \r\n-                <!-- <div class=\"form-group role-selector\">\r\n+                <div class=\"form-group role-selector\">\r\n                     <label class=\"form-label\">\r\n                         <i class=\"fas fa-user-tag me-2\"></i>Login As\r\n                     </label>\r\n                     <div class=\"role-buttons\">\r\n@@ -463,9 +463,9 @@\n                             <i class=\"fas fa-crown\"></i>\r\n                             Owner\r\n                         </div>\r\n                     </div>\r\n-                </div> -->\r\n+                </div>\r\n                 \r\n                 <button type=\"submit\" class=\"btn-login\" id=\"loginBtn\">\r\n                     <span id=\"loginText\">Login to System</span>\r\n                     <span id=\"loginSpinner\" class=\"spinner-border spinner-border-sm d-none\" role=\"status\"></span>\r\n"
                },
                {
                    "date": 1769763986772,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -445,9 +445,9 @@\n                         </button>\r\n                     </div>\r\n                 </div>\r\n                 \r\n-                <div class=\"form-group role-selector\">\r\n+                <!-- <div class=\"form-group role-selector\">\r\n                     <label class=\"form-label\">\r\n                         <i class=\"fas fa-user-tag me-2\"></i>Login As\r\n                     </label>\r\n                     <div class=\"role-buttons\">\r\n@@ -463,9 +463,9 @@\n                             <i class=\"fas fa-crown\"></i>\r\n                             Owner\r\n                         </div>\r\n                     </div>\r\n-                </div>\r\n+                </div> -->\r\n                 \r\n                 <button type=\"submit\" class=\"btn-login\" id=\"loginBtn\">\r\n                     <span id=\"loginText\">Login to System</span>\r\n                     <span id=\"loginSpinner\" class=\"spinner-border spinner-border-sm d-none\" role=\"status\"></span>\r\n"
                },
                {
                    "date": 1769763993276,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -445,27 +445,27 @@\n                         </button>\r\n                     </div>\r\n                 </div>\r\n                 \r\n-                <!-- <div class=\"form-group role-selector\">\r\n+                <div class=\"form-group role-selector\">\r\n                     <label class=\"form-label\">\r\n                         <i class=\"fas fa-user-tag me-2\"></i>Login As\r\n                     </label>\r\n                     <div class=\"role-buttons\">\r\n                         <div class=\"role-btn active\" data-role=\"staff\">\r\n                             <i class=\"fas fa-user-tie\"></i>\r\n                             Staff\r\n                         </div>\r\n-                        <!-- <div class=\"role-btn\" data-role=\"cashier\">\r\n+                        <div class=\"role-btn\" data-role=\"cashier\">\r\n                             <i class=\"fas fa-cash-register\"></i>\r\n                             Cashier\r\n-                        </div> -->\r\n+                        </div>\r\n                         <div class=\"role-btn\" data-role=\"owner\">\r\n                             <i class=\"fas fa-crown\"></i>\r\n                             Owner\r\n                         </div>\r\n                     </div>\r\n-                </div> -->\r\n+                </div>\r\n                 \r\n                 <button type=\"submit\" class=\"btn-login\" id=\"loginBtn\">\r\n                     <span id=\"loginText\">Login to System</span>\r\n                     <span id=\"loginSpinner\" class=\"spinner-border spinner-border-sm d-none\" role=\"status\"></span>\r\n"
                },
                {
                    "date": 1769773210328,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -445,9 +445,9 @@\n                         </button>\r\n                     </div>\r\n                 </div>\r\n                 \r\n-                <div class=\"form-group role-selector\">\r\n+                <!-- <div class=\"form-group role-selector\">\r\n                     <label class=\"form-label\">\r\n                         <i class=\"fas fa-user-tag me-2\"></i>Login As\r\n                     </label>\r\n                     <div class=\"role-buttons\">\r\n@@ -463,9 +463,9 @@\n                             <i class=\"fas fa-crown\"></i>\r\n                             Owner\r\n                         </div>\r\n                     </div>\r\n-                </div>\r\n+                </div> -->\r\n                 \r\n                 <button type=\"submit\" class=\"btn-login\" id=\"loginBtn\">\r\n                     <span id=\"loginText\">Login to System</span>\r\n                     <span id=\"loginSpinner\" class=\"spinner-border spinner-border-sm d-none\" role=\"status\"></span>\r\n@@ -604,48 +604,41 @@\n             }, 5000);\r\n         }\r\n         \r\n         // Show forgot password modal\r\n+// Show forgot password modal\r\n         function showForgotPassword() {\r\n             const modalHTML = `\r\n                 <div class=\"modal fade\" id=\"forgotPasswordModal\" tabindex=\"-1\">\r\n                     <div class=\"modal-dialog modal-dialog-centered\">\r\n                         <div class=\"modal-content\">\r\n                             <div class=\"modal-header\" style=\"background: linear-gradient(135deg, #4A90E2 0%, #357ae8 100%); color: white;\">\r\n                                 <h5 class=\"modal-title\">\r\n-                                    <i class=\"fas fa-key me-2\"></i>Password Recovery\r\n+                                    <i class=\"fas fa-paper-plane me-2\"></i>Request Admin Reset\r\n                                 </h5>\r\n                                 <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\"></button>\r\n                             </div>\r\n                             <div class=\"modal-body\">\r\n-                                <div class=\"alert alert-warning\">\r\n-                                    <i class=\"fas fa-exclamation-triangle me-2\"></i>\r\n-                                    Staff cannot reset passwords themselves. Contact owner/admin.\r\n-                                </div>\r\n                                 <form id=\"recoveryForm\">\r\n                                     <div class=\"row g-3\">\r\n                                         <div class=\"col-12\">\r\n                                             <label class=\"form-label\">Username</label>\r\n-                                            <input type=\"text\" class=\"form-control\" placeholder=\"Enter your username\">\r\n+                                            <input type=\"text\" class=\"form-control\" id=\"resetUsername\" placeholder=\"Enter your username\">\r\n                                         </div>\r\n                                         <div class=\"col-12\">\r\n-                                            <label class=\"form-label\">Security Question</label>\r\n-                                            <select class=\"form-select\">\r\n-                                                <option>What is your mother's maiden name?</option>\r\n-                                                <option>What was your first pet's name?</option>\r\n-                                                <option>What city were you born in?</option>\r\n-                                            </select>\r\n+                                            <label class=\"form-label\">Message to Admin</label>\r\n+                                            <textarea class=\"form-control\" id=\"resetMessage\" rows=\"3\" placeholder=\"Explain why you need a reset...\"></textarea>\r\n+                                            <small class=\"text-muted mt-2 d-block\">\r\n+                                                <i class=\"fas fa-info-circle me-1\"></i>\r\n+                                                Note: You need to contact the admin directly to receive your temporary password.\r\n+                                            </small>\r\n                                         </div>\r\n-                                        <div class=\"col-12\">\r\n-                                            <label class=\"form-label\">Answer</label>\r\n-                                            <input type=\"text\" class=\"form-control\">\r\n-                                        </div>\r\n                                     </div>\r\n                                 </form>\r\n                             </div>\r\n                             <div class=\"modal-footer\">\r\n                                 <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n-                                <button type=\"button\" class=\"btn btn-light-blue\" onclick=\"requestPasswordReset()\">Request Reset</button>\r\n+                                <button type=\"button\" class=\"btn btn-primary\" onclick=\"requestPasswordReset()\">Send Request</button>\r\n                             </div>\r\n                         </div>\r\n                     </div>\r\n                 </div>\r\n"
                }
            ],
            "date": 1769763892836,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Login - Ethan's Cafe Restaurant Management</title>\r\n    \r\n    <!-- Bootstrap 5 CSS -->\r\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n    \r\n    <!-- Font Awesome -->\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n    \r\n    <!-- Common CSS -->\r\n    <link rel=\"stylesheet\" href=\"common.css\">\r\n    \r\n    <!-- Login Page Specific CSS -->\r\n    <style>\r\n        body {\r\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n            background: linear-gradient(rgba(128, 0, 0, 0.85), rgba(90, 0, 0, 0.9)), \r\n                        url('https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');\r\n            background-size: cover;\r\n            background-position: center;\r\n            background-attachment: fixed;\r\n            min-height: 100vh;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            padding: 20px;\r\n        }\r\n\r\n        .login-container {\r\n            background: rgba(255, 255, 255, 0.95);\r\n            border-radius: 20px;\r\n            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);\r\n            overflow: hidden;\r\n            max-width: 450px;\r\n            width: 100%;\r\n            animation: slideUp 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);\r\n            backdrop-filter: blur(10px);\r\n            border: 1px solid rgba(255, 255, 255, 0.2);\r\n        }\r\n\r\n        @keyframes slideUp {\r\n            from { transform: translateY(100px) scale(0.8); opacity: 0; }\r\n            to { transform: translateY(0) scale(1); opacity: 1; }\r\n        }\r\n\r\n        .login-header {\r\n            background: linear-gradient(135deg, var(--maroon) 0%, #5a0000 100%);\r\n            color: var(--white);\r\n            padding: 40px 30px;\r\n            text-align: center;\r\n            position: relative;\r\n            overflow: hidden;\r\n        }\r\n\r\n        .login-header::before {\r\n            content: '';\r\n            position: absolute;\r\n            top: -50%;\r\n            left: -50%;\r\n            width: 200%;\r\n            height: 200%;\r\n            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);\r\n            transform: rotate(45deg);\r\n            animation: shine 3s infinite;\r\n        }\r\n\r\n        @keyframes shine {\r\n            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }\r\n            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }\r\n        }\r\n\r\n        .logo-container {\r\n            margin-bottom: 20px;\r\n        }\r\n\r\n        .logo {\r\n            width: 100px;\r\n            height: 100px;\r\n            background: var(--white);\r\n            border-radius: 50%;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            margin: 0 auto 15px;\r\n            box-shadow: 0 10px 30px rgba(0,0,0,0.3);\r\n            animation: float 3s ease-in-out infinite;\r\n        }\r\n\r\n        @keyframes float {\r\n            0%, 100% { transform: translateY(0); }\r\n            50% { transform: translateY(-10px); }\r\n        }\r\n\r\n        .logo i {\r\n            font-size: 50px;\r\n            color: var(--maroon);\r\n        }\r\n\r\n        .restaurant-name {\r\n            font-size: 2.2rem;\r\n            font-weight: 800;\r\n            margin-bottom: 5px;\r\n            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);\r\n            letter-spacing: 1px;\r\n        }\r\n\r\n        .system-name {\r\n            font-size: 1.1rem;\r\n            opacity: 0.9;\r\n            font-weight: 500;\r\n        }\r\n\r\n        .login-body {\r\n            padding: 40px;\r\n        }\r\n\r\n        .form-group {\r\n            margin-bottom: 25px;\r\n            position: relative;\r\n        }\r\n\r\n        .form-label {\r\n            display: block;\r\n            margin-bottom: 10px;\r\n            color: var(--maroon);\r\n            font-weight: 600;\r\n            font-size: 1rem;\r\n            transition: color 0.3s ease;\r\n        }\r\n\r\n        .input-group {\r\n            position: relative;\r\n        }\r\n\r\n        .input-icon {\r\n            position: absolute;\r\n            left: 15px;\r\n            top: 50%;\r\n            transform: translateY(-50%);\r\n            color: var(--maroon);\r\n            font-size: 20px;\r\n            z-index: 4;\r\n        }\r\n\r\n        .form-control {\r\n            width: 100%;\r\n            padding: 15px 15px 15px 50px;\r\n            border: 2px solid #e0e0e0;\r\n            border-radius: 10px;\r\n            font-size: 16px;\r\n            transition: all 0.3s ease;\r\n            background: var(--white);\r\n            font-weight: 500;\r\n        }\r\n\r\n        .form-control:focus {\r\n            border-color: var(--light-blue);\r\n            box-shadow: 0 0 0 0.25rem rgba(74, 144, 226, 0.25);\r\n            transform: translateY(-2px);\r\n        }\r\n\r\n        .password-toggle {\r\n            position: absolute;\r\n            right: 15px;\r\n            top: 50%;\r\n            transform: translateY(-50%);\r\n            background: none;\r\n            border: none;\r\n            color: var(--gray);\r\n            cursor: pointer;\r\n            transition: color 0.3s ease;\r\n            z-index: 4;\r\n        }\r\n\r\n        .password-toggle:hover {\r\n            color: var(--maroon);\r\n        }\r\n\r\n        .role-selector {\r\n            margin-bottom: 25px;\r\n        }\r\n\r\n        .role-buttons {\r\n            display: flex;\r\n            gap: 10px;\r\n            margin-top: 10px;\r\n        }\r\n\r\n        .role-btn {\r\n            flex: 1;\r\n            padding: 12px;\r\n            border: 2px solid #e0e0e0;\r\n            border-radius: 10px;\r\n            background: var(--white);\r\n            color: var(--gray);\r\n            font-weight: 600;\r\n            cursor: pointer;\r\n            transition: all 0.3s ease;\r\n            text-align: center;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            gap: 8px;\r\n        }\r\n\r\n        .role-btn:hover {\r\n            border-color: var(--light-blue);\r\n            color: var(--light-blue);\r\n            transform: translateY(-3px);\r\n        }\r\n\r\n        .role-btn.active {\r\n            border-color: var(--maroon);\r\n            background: rgba(128, 0, 0, 0.1);\r\n            color: var(--maroon);\r\n            box-shadow: 0 5px 15px rgba(128, 0, 0, 0.2);\r\n        }\r\n\r\n        .role-btn i {\r\n            font-size: 24px;\r\n        }\r\n\r\n        .btn-login {\r\n            width: 100%;\r\n            padding: 16px;\r\n            background: linear-gradient(135deg, var(--maroon) 0%, #5a0000 100%);\r\n            color: var(--white);\r\n            border: none;\r\n            border-radius: 10px;\r\n            font-size: 18px;\r\n            font-weight: 700;\r\n            cursor: pointer;\r\n            transition: all 0.3s ease;\r\n            position: relative;\r\n            overflow: hidden;\r\n            letter-spacing: 0.5px;\r\n            margin-top: 10px;\r\n        }\r\n\r\n        .btn-login:hover {\r\n            background: linear-gradient(135deg, #5a0000 0%, var(--maroon) 100%);\r\n            transform: translateY(-3px);\r\n            box-shadow: 0 10px 25px rgba(128, 0, 0, 0.4);\r\n        }\r\n\r\n        .btn-login:active {\r\n            transform: translateY(-1px);\r\n        }\r\n\r\n        .btn-login:disabled {\r\n            opacity: 0.7;\r\n            cursor: not-allowed;\r\n        }\r\n\r\n        .login-footer {\r\n            text-align: center;\r\n            padding: 25px 40px;\r\n            background: #f8f9fa;\r\n            border-top: 1px solid #e0e0e0;\r\n        }\r\n\r\n        .footer-link {\r\n            color: var(--light-blue);\r\n            text-decoration: none;\r\n            font-weight: 600;\r\n            transition: all 0.3s ease;\r\n            position: relative;\r\n            display: inline-block;\r\n            padding: 5px 0;\r\n        }\r\n\r\n        .footer-link:hover {\r\n            color: var(--maroon);\r\n        }\r\n\r\n        .footer-link::after {\r\n            content: '';\r\n            position: absolute;\r\n            bottom: 0;\r\n            left: 0;\r\n            width: 0;\r\n            height: 2px;\r\n            background: var(--maroon);\r\n            transition: width 0.3s ease;\r\n        }\r\n\r\n        .footer-link:hover::after {\r\n            width: 100%;\r\n        }\r\n\r\n        .security-note {\r\n            margin-top: 10px;\r\n            font-size: 0.85rem;\r\n            color: var(--gray);\r\n        }\r\n\r\n        .security-note i {\r\n            color: var(--green);\r\n            margin-right: 5px;\r\n        }\r\n\r\n        .alert {\r\n            border-radius: 10px;\r\n            padding: 15px;\r\n            margin-bottom: 20px;\r\n            animation: slideDown 0.5s ease;\r\n            display: none;\r\n            border-left: 5px solid;\r\n        }\r\n\r\n        @keyframes slideDown {\r\n            from { transform: translateY(-20px); opacity: 0; }\r\n            to { transform: translateY(0); opacity: 1; }\r\n        }\r\n\r\n        .alert-danger {\r\n            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);\r\n            border-left-color: #dc3545;\r\n            color: #721c24;\r\n        }\r\n\r\n        .alert-success {\r\n            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);\r\n            border-left-color: var(--green);\r\n            color: #155724;\r\n        }\r\n\r\n        .spinner-border {\r\n            width: 20px;\r\n            height: 20px;\r\n        }\r\n\r\n        @media (max-width: 576px) {\r\n            .login-container {\r\n                margin: 10px;\r\n            }\r\n            \r\n            .login-body, .login-footer {\r\n                padding: 25px;\r\n            }\r\n            \r\n            .role-buttons {\r\n                flex-direction: column;\r\n            }\r\n            \r\n            .restaurant-name {\r\n                font-size: 1.8rem;\r\n            }\r\n            \r\n            .logo {\r\n                width: 80px;\r\n                height: 80px;\r\n            }\r\n            \r\n            .logo i {\r\n                font-size: 40px;\r\n            }\r\n        }\r\n\r\n        .wave {\r\n            position: absolute;\r\n            bottom: 0;\r\n            left: 0;\r\n            width: 100%;\r\n            overflow: hidden;\r\n            line-height: 0;\r\n        }\r\n\r\n        .wave svg {\r\n            position: relative;\r\n            display: block;\r\n            width: calc(100% + 1.3px);\r\n            height: 50px;\r\n        }\r\n\r\n        .wave .shape-fill {\r\n            fill: rgba(255, 255, 255, 0.1);\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"login-container\">\r\n        <div class=\"login-header\">\r\n            <div class=\"logo-container\">\r\n                <div class=\"logo\">\r\n                    <i class=\"fas fa-utensils\"></i>\r\n                </div>\r\n                <div class=\"restaurant-name\">ETHAN'S CAFE RESTAURANT</div>\r\n                <div class=\"system-name\">Management System</div>\r\n            </div>\r\n            <div class=\"wave\">\r\n                <svg data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1200 120\" preserveAspectRatio=\"none\">\r\n                    <path d=\"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z\" class=\"shape-fill\"></path>\r\n                </svg>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"login-body\">\r\n            <div class=\"alert alert-danger\" id=\"errorAlert\">\r\n                <i class=\"fas fa-exclamation-circle me-2\"></i>\r\n                <span id=\"errorMessage\">Invalid username or password</span>\r\n            </div>\r\n            \r\n            <div class=\"alert alert-success\" id=\"successAlert\">\r\n                <i class=\"fas fa-check-circle me-2\"></i>\r\n                <span id=\"successMessage\">Login successful</span>\r\n            </div>\r\n            \r\n            <form id=\"loginForm\">\r\n                <div class=\"form-group\">\r\n                    <label class=\"form-label\" for=\"username\">\r\n                        <i class=\"fas fa-user me-2\"></i>Username\r\n                    </label>\r\n                    <div class=\"input-group\">\r\n                        <i class=\"fas fa-user input-icon\"></i>\r\n                        <input type=\"text\" \r\n                               id=\"username\" \r\n                               class=\"form-control\" \r\n                               placeholder=\"Enter your username\"\r\n                               required\r\n                               autocomplete=\"username\">\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"form-group\">\r\n                    <label class=\"form-label\" for=\"password\">\r\n                        <i class=\"fas fa-lock me-2\"></i>Password\r\n                    </label>\r\n                    <div class=\"input-group\">\r\n                        <i class=\"fas fa-lock input-icon\"></i>\r\n                        <input type=\"password\" \r\n                               id=\"password\" \r\n                               class=\"form-control\" \r\n                               placeholder=\"Enter your password\"\r\n                               required\r\n                               autocomplete=\"current-password\">\r\n                        <button type=\"button\" \r\n                                class=\"password-toggle\" \r\n                                onclick=\"togglePasswordVisibility()\">\r\n                            <i class=\"fas fa-eye\"></i>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"form-group role-selector\">\r\n                    <label class=\"form-label\">\r\n                        <i class=\"fas fa-user-tag me-2\"></i>Login As\r\n                    </label>\r\n                    <div class=\"role-buttons\">\r\n                        <div class=\"role-btn active\" data-role=\"staff\">\r\n                            <i class=\"fas fa-user-tie\"></i>\r\n                            Staff\r\n                        </div>\r\n                        <!-- <div class=\"role-btn\" data-role=\"cashier\">\r\n                            <i class=\"fas fa-cash-register\"></i>\r\n                            Cashier\r\n                        </div> -->\r\n                        <div class=\"role-btn\" data-role=\"owner\">\r\n                            <i class=\"fas fa-crown\"></i>\r\n                            Owner\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <button type=\"submit\" class=\"btn-login\" id=\"loginBtn\">\r\n                    <span id=\"loginText\">Login to System</span>\r\n                    <span id=\"loginSpinner\" class=\"spinner-border spinner-border-sm d-none\" role=\"status\"></span>\r\n                </button>\r\n            </form>\r\n        </div>\r\n        \r\n        <div class=\"login-footer\">\r\n            <p class=\"mb-3\">\r\n                Don't have an account? \r\n                <a href=\"#\" class=\"footer-link\" onclick=\"showAccountRequest()\">Request Access</a>\r\n            </p>\r\n            <p class=\"mb-2\">\r\n                <a href=\"#\" class=\"footer-link\" onclick=\"showForgotPassword()\">\r\n                    <i class=\"fas fa-key me-1\"></i>Forgot Password?\r\n                </a>\r\n            </p>\r\n            <p class=\"security-note\">\r\n                <i class=\"fas fa-shield-alt\"></i>\r\n                Secure SSL Encryption • Activity Logged • Auto-Logout Protection\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Bootstrap JS -->\r\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js\"></script>\r\n    \r\n    <script>\r\n        // Initialize variables\r\n        let selectedRole = 'staff';\r\n        \r\n        // Initialize role selection\r\n        document.querySelectorAll('.role-btn').forEach(btn => {\r\n            btn.addEventListener('click', function() {\r\n                document.querySelectorAll('.role-btn').forEach(b => b.classList.remove('active'));\r\n                this.classList.add('active');\r\n                selectedRole = this.dataset.role;\r\n            });\r\n        });\r\n        \r\n        // Toggle password visibility\r\n        function togglePasswordVisibility() {\r\n            const passwordField = document.getElementById('password');\r\n            const toggleBtn = document.querySelector('.password-toggle i');\r\n            \r\n            if (passwordField.type === 'password') {\r\n                passwordField.type = 'text';\r\n                toggleBtn.classList.remove('fa-eye');\r\n                toggleBtn.classList.add('fa-eye-slash');\r\n            } else {\r\n                passwordField.type = 'password';\r\n                toggleBtn.classList.remove('fa-eye-slash');\r\n                toggleBtn.classList.add('fa-eye');\r\n            }\r\n        }\r\n        \r\n        // Show account request modal\r\n        function showAccountRequest() {\r\n            const modalHTML = `\r\n                <div class=\"modal fade\" id=\"accountRequestModal\" tabindex=\"-1\">\r\n                    <div class=\"modal-dialog modal-dialog-centered\">\r\n                        <div class=\"modal-content\">\r\n                            <div class=\"modal-header\" style=\"background: linear-gradient(135deg, var(--maroon) 0%, #5a0000 100%); color: white;\">\r\n                                <h5 class=\"modal-title\">\r\n                                    <i class=\"fas fa-user-plus me-2\"></i>Request Account Access\r\n                                </h5>\r\n                                <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\"></button>\r\n                            </div>\r\n                            <div class=\"modal-body\">\r\n                                <div class=\"alert alert-info\">\r\n                                    <i class=\"fas fa-info-circle me-2\"></i>\r\n                                    Account requests require owner/admin approval\r\n                                </div>\r\n                                <form id=\"requestForm\">\r\n                                    <div class=\"row g-3\">\r\n                                        <div class=\"col-12\">\r\n                                            <label class=\"form-label\">Full Name *</label>\r\n                                            <input type=\"text\" class=\"form-control\" required>\r\n                                        </div>\r\n                                        <div class=\"col-12\">\r\n                                            <label class=\"form-label\">Username *</label>\r\n                                            <input type=\"text\" class=\"form-control\" required>\r\n                                            <small class=\"text-muted\">Must be unique</small>\r\n                                        </div>\r\n                                        <div class=\"col-12\">\r\n                                            <label class=\"form-label\">Password *</label>\r\n                                            <input type=\"password\" class=\"form-control\" required>\r\n                                        </div>\r\n                                        <div class=\"col-12\">\r\n                                            <label class=\"form-label\">Confirm Password *</label>\r\n                                            <input type=\"password\" class=\"form-control\" required>\r\n                                        </div>\r\n                                        <div class=\"col-12\">\r\n                                            <label class=\"form-label\">Requested Role *</label>\r\n                                            <select class=\"form-select\" required>\r\n                                                <option value=\"staff\">Staff</option>\r\n                                                <option value=\"cashier\">Cashier</option>\r\n                                            </select>\r\n                                            <small class=\"text-muted\">Cannot request Owner/Admin role</small>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                            <div class=\"modal-footer\">\r\n                                <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n                                <button type=\"button\" class=\"btn btn-maroon\" onclick=\"submitAccountRequest()\">Submit Request</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            `;\r\n            \r\n            // Add modal to body if not exists\r\n            if (!document.getElementById('accountRequestModal')) {\r\n                document.body.insertAdjacentHTML('beforeend', modalHTML);\r\n            }\r\n            \r\n            const modal = new bootstrap.Modal(document.getElementById('accountRequestModal'));\r\n            modal.show();\r\n        }\r\n        \r\n        // Submit account request\r\n        function submitAccountRequest() {\r\n            // Simulate AJAX request\r\n            document.getElementById('successMessage').textContent = \r\n                'Your account request has been submitted and is pending approval.';\r\n            document.getElementById('successAlert').style.display = 'block';\r\n            document.getElementById('errorAlert').style.display = 'none';\r\n            \r\n            const modal = bootstrap.Modal.getInstance(document.getElementById('accountRequestModal'));\r\n            modal.hide();\r\n            \r\n            // Hide success message after 5 seconds\r\n            setTimeout(() => {\r\n                document.getElementById('successAlert').style.display = 'none';\r\n            }, 5000);\r\n        }\r\n        \r\n        // Show forgot password modal\r\n        function showForgotPassword() {\r\n            const modalHTML = `\r\n                <div class=\"modal fade\" id=\"forgotPasswordModal\" tabindex=\"-1\">\r\n                    <div class=\"modal-dialog modal-dialog-centered\">\r\n                        <div class=\"modal-content\">\r\n                            <div class=\"modal-header\" style=\"background: linear-gradient(135deg, #4A90E2 0%, #357ae8 100%); color: white;\">\r\n                                <h5 class=\"modal-title\">\r\n                                    <i class=\"fas fa-key me-2\"></i>Password Recovery\r\n                                </h5>\r\n                                <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\"></button>\r\n                            </div>\r\n                            <div class=\"modal-body\">\r\n                                <div class=\"alert alert-warning\">\r\n                                    <i class=\"fas fa-exclamation-triangle me-2\"></i>\r\n                                    Staff cannot reset passwords themselves. Contact owner/admin.\r\n                                </div>\r\n                                <form id=\"recoveryForm\">\r\n                                    <div class=\"row g-3\">\r\n                                        <div class=\"col-12\">\r\n                                            <label class=\"form-label\">Username</label>\r\n                                            <input type=\"text\" class=\"form-control\" placeholder=\"Enter your username\">\r\n                                        </div>\r\n                                        <div class=\"col-12\">\r\n                                            <label class=\"form-label\">Security Question</label>\r\n                                            <select class=\"form-select\">\r\n                                                <option>What is your mother's maiden name?</option>\r\n                                                <option>What was your first pet's name?</option>\r\n                                                <option>What city were you born in?</option>\r\n                                            </select>\r\n                                        </div>\r\n                                        <div class=\"col-12\">\r\n                                            <label class=\"form-label\">Answer</label>\r\n                                            <input type=\"text\" class=\"form-control\">\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                            <div class=\"modal-footer\">\r\n                                <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n                                <button type=\"button\" class=\"btn btn-light-blue\" onclick=\"requestPasswordReset()\">Request Reset</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            `;\r\n            \r\n            if (!document.getElementById('forgotPasswordModal')) {\r\n                document.body.insertAdjacentHTML('beforeend', modalHTML);\r\n            }\r\n            \r\n            const modal = new bootstrap.Modal(document.getElementById('forgotPasswordModal'));\r\n            modal.show();\r\n        }\r\n        \r\n        // Request password reset\r\n        function requestPasswordReset() {\r\n            document.getElementById('successMessage').textContent = \r\n                'Password reset request submitted. Owner/Admin will process it.';\r\n            document.getElementById('successAlert').style.display = 'block';\r\n            \r\n            const modal = bootstrap.Modal.getInstance(document.getElementById('forgotPasswordModal'));\r\n            modal.hide();\r\n            \r\n            setTimeout(() => {\r\n                document.getElementById('successAlert').style.display = 'none';\r\n            }, 5000);\r\n        }\r\n        \r\n        // Handle login form submission\r\n        document.getElementById('loginForm').addEventListener('submit', async function(e) {\r\n            e.preventDefault();\r\n            \r\n            const username = document.getElementById('username').value.trim();\r\n            const password = document.getElementById('password').value;\r\n            \r\n            // Validation\r\n            if (!username || !password) {\r\n                showError('Please enter both username and password');\r\n                return;\r\n            }\r\n            \r\n            // Show loading state\r\n            const loginBtn = document.getElementById('loginBtn');\r\n            const loginText = document.getElementById('loginText');\r\n            const loginSpinner = document.getElementById('loginSpinner');\r\n            \r\n            loginText.textContent = 'Authenticating...';\r\n            loginSpinner.classList.remove('d-none');\r\n            loginBtn.disabled = true;\r\n            \r\n            // Simulate API call with delay\r\n            await new Promise(resolve => setTimeout(resolve, 1500));\r\n            \r\n            // Mock authentication logic\r\n            let isValid = false;\r\n            let userData = null;\r\n            \r\n            // Test credentials (for demo purposes)\r\n            if (username && password) {\r\n                isValid = true;\r\n                \r\n                // Determine user data based on role\r\n                switch(selectedRole) {\r\n                    case 'staff':\r\n                        userData = {\r\n                            username: username,\r\n                            role: 'staff',\r\n                            name: 'John Smith',\r\n                            permissions: ['record_sales', 'view_inventory', 'print_reports']\r\n                        };\r\n                        break;\r\n                    case 'cashier':\r\n                        userData = {\r\n                            username: username,\r\n                            role: 'cashier',\r\n                            name: 'Sarah Johnson',\r\n                            permissions: ['record_sales', 'view_reports']\r\n                        };\r\n                        break;\r\n                    case 'owner':\r\n                        userData = {\r\n                            username: username,\r\n                            role: 'owner',\r\n                            name: 'Ethan Carter',\r\n                            permissions: ['all']\r\n                        };\r\n                        break;\r\n                }\r\n            }\r\n            \r\n            if (isValid && userData) {\r\n                // Hide error if shown\r\n                document.getElementById('errorAlert').style.display = 'none';\r\n                \r\n                // Save user data to localStorage\r\n                userData.loggedIn = true;\r\n                localStorage.setItem('user', JSON.stringify(userData));\r\n                \r\n                // Show success message\r\n                document.getElementById('successMessage').textContent = `Welcome, ${userData.name}!`;\r\n                document.getElementById('successAlert').style.display = 'block';\r\n                \r\n                // Determine redirect based on role\r\n                let redirectUrl;\r\n                switch(selectedRole) {\r\n                    case 'staff':\r\n                    case 'cashier':\r\n                        redirectUrl = 'staff_dashboard.html';\r\n                        break;\r\n                    case 'owner':\r\n                        redirectUrl = 'owner_dashboard.html';\r\n                        break;\r\n                    default:\r\n                        redirectUrl = 'staff_dashboard.html';\r\n                }\r\n                \r\n                // Redirect after delay\r\n                setTimeout(() => {\r\n                    window.location.href = redirectUrl;\r\n                }, 1000);\r\n            } else {\r\n                // Show error\r\n                showError('Invalid username or password. Please try again.');\r\n                \r\n                // Reset button state\r\n                loginText.textContent = 'Login to System';\r\n                loginSpinner.classList.add('d-none');\r\n                loginBtn.disabled = false;\r\n            }\r\n        });\r\n        \r\n        // Show error function\r\n        function showError(message) {\r\n            document.getElementById('errorMessage').textContent = message;\r\n            document.getElementById('errorAlert').style.display = 'block';\r\n            document.getElementById('successAlert').style.display = 'none';\r\n            \r\n            // Hide error after 5 seconds\r\n            setTimeout(() => {\r\n                document.getElementById('errorAlert').style.display = 'none';\r\n            }, 5000);\r\n        }\r\n        \r\n        // Check for auto-logout message\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        if (urlParams.has('logout')) {\r\n            const reason = urlParams.get('reason') || 'inactivity';\r\n            let message = 'You have been logged out.';\r\n            \r\n            if (reason === 'inactivity') {\r\n                message = 'You have been logged out due to inactivity.';\r\n            } else if (reason === 'session_expired') {\r\n                message = 'Your session has expired. Please login again.';\r\n            }\r\n            \r\n            document.getElementById('successMessage').textContent = message;\r\n            document.getElementById('successAlert').style.display = 'block';\r\n            \r\n            setTimeout(() => {\r\n                document.getElementById('successAlert').style.display = 'none';\r\n            }, 5000);\r\n        }\r\n        \r\n        // Auto-focus username field\r\n        document.getElementById('username').focus();\r\n    </script>\r\n</body>\r\n</html>"
        }
    ]
}