{
    "sourceFile": "codes/staff-ingredients.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1771680332183,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1771680332183,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Ingredients - Staff Dashboard</title>\r\n\r\n    <!-- Bootstrap 5 CSS -->\r\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n    <!-- Font Awesome -->\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\r\n    <!-- Animate.css -->\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css\">\r\n\r\n    <!-- Custom CSS -->\r\n    <link rel=\"stylesheet\" href=\"style.css\">\r\n    <link rel=\"stylesheet\" href=\"staff.css\">\r\n    <script>\r\n        (function () {\r\n            try {\r\n                const role = localStorage.getItem('loggedInRole');\r\n                if (role !== 'staff' && role !== 'cashier') {\r\n                    window.location.href = 'index.html';\r\n                }\r\n            } catch (e) {\r\n                window.location.href = 'index.html';\r\n            }\r\n        })();\r\n\r\n\r\n        // Add this in the logout handler of staff.html / cashier.html\r\nconst isTempAccount = localStorage.getItem('isTempAccount');\r\nif (isTempAccount === 'true') {\r\n    const logId = localStorage.getItem('tempAccountLogId');\r\n    if (logId) {\r\n        const now = new Date().toISOString().slice(0, 19).replace('T', ' ');\r\n        temporaryAccountLogDB.edit({\r\n            id: parseInt(logId),\r\n            deactivated_at: now,\r\n            note: `Temp account session ended`\r\n        });\r\n    }\r\n    localStorage.removeItem('isTempAccount');\r\n    localStorage.removeItem('tempAccountLogId');\r\n    localStorage.removeItem('tempAccountRole');\r\n}\r\n    </script>\r\n</head>\r\n\r\n<body>\r\n    <!-- Navigation Bar -->\r\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-black fixed-top shadow\">\r\n        <div class=\"container-fluid\">\r\n            <button class=\"sidebar-toggle mt-1 me-2\" id=\"sidebarToggle\">\r\n                <i class=\"fas fa-bars\"></i>\r\n            </button>\r\n            <a class=\"navbar-brand d-flex align-items-center\" href=\"staff-menu.html\">\r\n                <img src=\"resources/ethans logo.jpg\" alt=\"Logo\" height=\"60\" class=\"me-2\">\r\n                <span class=\"fw-bold\">Restaurant POS</span>\r\n                <span class=\"badge bg-maroon ms-2\">Staff</span>\r\n            </a>\r\n            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#headerNav\">\r\n                <span class=\"fas fa-ellipsis-v\"></span>\r\n            </button>\r\n            <div class=\"collapse navbar-collapse\" id=\"headerNav\">\r\n                <ul class=\"navbar-nav ms-auto\">\r\n                    <li class=\"nav-item dropdown\">\r\n                        <a class=\"nav-link dropdown-toggle\" href=\"#\" role=\"button\" data-bs-toggle=\"dropdown\">\r\n                            <i class=\"fas fa-user-circle me-1\"></i>John Doe\r\n                        </a>\r\n                        <ul class=\"dropdown-menu dropdown-menu-end shadow border-0 animate__animated animate__fadeIn\">\r\n                            <li><a class=\"dropdown-item\" href=\"staff-account.html\"><i\r\n                                        class=\"fas fa-user-cog me-2 text-maroon\"></i>Account</a></li>\r\n                            <li><a class=\"dropdown-item\" href=\"staff-activity.html\"><i\r\n                                        class=\"fas fa-history me-2 text-maroon\"></i>Activity Log</a></li>\r\n                            <li>\r\n                                <hr class=\"dropdown-divider\">\r\n                            </li>\r\n                            <li><a class=\"dropdown-item text-danger\" href=\"#\" id=\"logoutBtn\"><i\r\n                                        class=\"fas fa-sign-out-alt me-2\"></i>Logout</a></li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n\r\n    <div class=\"dashboard-layout\">\r\n        <!-- Sidebar Navigation -->\r\n        <aside class=\"sidebar\" id=\"sidebar\">\r\n            <div class=\"sidebar-nav\">\r\n                <div class=\"sidebar-section-title\">Operations</div>\r\n                <a href=\"staff-menu.html\" class=\"sidebar-link\">\r\n                    <i class=\"fas fa-utensils\"></i>Menu Sales\r\n                </a>\r\n                <a href=\"staff-ingredients.html\" class=\"sidebar-link active\">\r\n                    <i class=\"fas fa-boxes\"></i>Ingredients\r\n                </a>\r\n                <a href=\"staff-receipts.html\" class=\"sidebar-link\">\r\n                    <i class=\"fas fa-receipt\"></i>Receipts\r\n                </a>\r\n\r\n                <div class=\"sidebar-divider\"></div>\r\n                <div class=\"sidebar-section-title\">Account</div>\r\n                <a href=\"staff-account.html\" class=\"sidebar-link\">\r\n                    <i class=\"fas fa-user-cog\"></i>Account Settings\r\n                </a>\r\n                <a href=\"staff-activity.html\" class=\"sidebar-link\">\r\n                    <i class=\"fas fa-history\"></i>My Activity\r\n                </a>\r\n            </div>\r\n        </aside>\r\n\r\n        <!-- Main Content Area -->\r\n        <main class=\"main-content\">\r\n            <!-- Ingredients Content -->\r\n            <div id=\"ingredients-content\" class=\"page-content\">\r\n                <div\r\n                    class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\r\n                    <h1 class=\"h2\"><i class=\"fas fa-boxes me-2 text-maroon\"></i>Ingredients Inventory</h1>\r\n\r\n                </div>\r\n\r\n                <!-- Low Stock Alert (Visible if items are low) -->\r\n                <div class=\"alert alert-warning animate__animated animate__pulse animate__infinite d-none\"\r\n                    id=\"lowStockAlert\">\r\n                    <i class=\"fas fa-exclamation-triangle me-2\"></i>\r\n                    <strong>Attention:</strong> <span id=\"lowStockMessage\">3 ingredients are below minimum\r\n                        threshold.</span>\r\n                </div>\r\n\r\n                <!-- Ingredients Filter -->\r\n                <div class=\"row mb-4\">\r\n                    <div class=\"col-md-8 mb-3\">\r\n                        <div class=\"input-group\">\r\n                            <span class=\"input-group-text\"><i class=\"fas fa-search\"></i></span>\r\n                            <input type=\"text\" class=\"form-control\" id=\"ingredientSearch\"\r\n                                placeholder=\"Search ingredients...\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-4 mb-3\">\r\n                        <select class=\"form-select\" id=\"ingredientCategoryFilter\">\r\n                            <option value=\"\">All Categories</option>\r\n                            <option value=\"Meat\">Meat</option>\r\n                            <option value=\"Vegetables\">Vegetables</option>\r\n                            <option value=\"Grains\">Grains</option>\r\n                            <option value=\"Spices\">Spices</option>\r\n                            <option value=\"Dairy\">Dairy</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- Ingredients Table -->\r\n                <div class=\"card shadow\">\r\n                    <div class=\"card-header bg-black text-white\">\r\n                        <h6 class=\"m-0 font-weight-bold\"><i class=\"fas fa-list me-1\"></i>Current Stock Levels</h6>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"table-responsive scroll-container\">\r\n                            <table class=\"table table-hover align-middle\" id=\"ingredientsTable\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Ingredient Name</th>\r\n                                        <th>Category</th>\r\n                                        <th>Current Stock</th>\r\n                                        <th>Minimum Level</th>\r\n                                        <th>Status</th>\r\n                                        <th>Actions</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td colspan=\"6\" class=\"text-center\">Loading ingredients...</td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    </div>\r\n\r\n    <!-- Update Quantity Modal -->\r\n    <div class=\"modal fade\" id=\"updateQuantityModal\" tabindex=\"-1\">\r\n        <div class=\"modal-dialog\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header bg-maroon text-white\">\r\n                    <h5 class=\"modal-title\"><i class=\"fas fa-edit me-2\"></i>Update Quantity</h5>\r\n                    <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"mb-3 text-center\">\r\n                        <h4 id=\"updateIngName\">Ingredient Name</h4>\r\n                        <p class=\"text-muted\">Current Stock: <span id=\"currentStockDisplay\">0</span> <span\r\n                                id=\"stockUnitDisplay\">kg</span></p>\r\n                    </div>\r\n                    <div class=\"row mb-3\">\r\n                        <div class=\"col-12 text-center\">\r\n                            <div class=\"btn-group w-100\" role=\"group\">\r\n                                <input type=\"radio\" class=\"btn-check\" name=\"updateType\" id=\"increase\" checked>\r\n                                <label class=\"btn btn-outline-success\" for=\"increase\">\r\n                                    <i class=\"fas fa-plus me-1\"></i> Increase\r\n                                </label>\r\n                                <input type=\"radio\" class=\"btn-check\" name=\"updateType\" id=\"decrease\">\r\n                                <label class=\"btn btn-outline-danger\" for=\"decrease\">\r\n                                    <i class=\"fas fa-minus me-1\"></i> Decrease\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"mb-3\">\r\n                        <label class=\"form-label\">Amount to add/remove</label>\r\n                        <div class=\"input-group\">\r\n                            <input type=\"number\" class=\"form-control form-control-lg\" id=\"updateAmount\" min=\"0.01\"\r\n                                step=\"0.01\" value=\"1.00\">\r\n                            <span class=\"input-group-text unit-text\">kg</span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"mb-3\">\r\n                        <label class=\"form-label\">Reason for change</label>\r\n                        <select class=\"form-select\" id=\"updateReason\">\r\n                            <option value=\"Restock / Delivery\">Restock / Delivery</option>\r\n                            <option value=\"Wastage / Spoiled\">Wastage / Spoiled</option>\r\n                            <option value=\"Correction\">Manual Correction</option>\r\n                            <option value=\"Other\">Other</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n                    <button type=\"button\" class=\"btn btn-maroon\" id=\"confirmQuantityUpdate\">Save Update</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Bootstrap 5 JS Bundle with Popper -->\r\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js\"></script>\r\n    <script src=\"https://code.jquery.com/jquery-3.6.4.min.js\"></script>\r\n    <script src=\"https://cdn.jsdelivr.net/npm/sweetalert2@11\"></script>\r\n\r\n    <script src=\"main.js\"></script>\r\n    <script src=\"staff.js\"></script>\r\n\r\n    <script>\r\n        // Centralized logic handles these features\r\n    </script>\r\n</body>\r\n\r\n</html>"
        }
    ]
}