<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports - Ethan's Cafe Restaurant</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Common CSS -->
    <link rel="stylesheet" href="common.css">
    
    <style>
        .report-card {
            background: var(--white);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border: 2px solid transparent;
            height: 100%;
            text-align: center;
        }
        
        .report-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            border-color: var(--light-blue);
        }
        
        .report-icon {
            font-size: 3.5rem;
            color: var(--maroon);
            margin-bottom: 20px;
            display: inline-block;
            padding: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(128,0,0,0.1) 0%, rgba(74,144,226,0.1) 100%);
        }
        
        .report-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--maroon);
            margin-bottom: 10px;
        }
        
        .report-description {
            color: var(--gray);
            font-size: 0.95rem;
            margin-bottom: 20px;
            line-height: 1.5;
        }
        
        .date-picker {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .report-preview {
            background: var(--white);
            border: 3px solid var(--maroon);
            border-radius: 12px;
            padding: 25px;
            overflow: hidden;
            min-height: 400px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .preview-header {
            text-align: center;
            padding-bottom: 20px;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--maroon);
        }
        
        .preview-title {
            font-size: 2rem;
            font-weight: 800;
            color: var(--maroon);
            margin-bottom: 5px;
        }
        
        .preview-content {
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }
        
        .report-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .report-table th,
        .report-table td {
            padding: 10px;
            border-bottom: 1px dashed #dee2e6;
            text-align: left;
        }
        
        .report-table th {
            background-color: rgba(128,0,0,0.05);
            font-weight: 600;
        }
        
        @media print {
            .no-print {
                display: none !important;
            }
            
            .report-preview {
                border: 2px solid #000;
                box-shadow: none;
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark no-print">
        <div class="container-fluid">
            <a class="navbar-brand" href="staff_dashboard.html">
                <i class="fas fa-utensils"></i>
                ETHAN'S CAFE RESTAURANT
            </a>
            
            <button class="navbar-toggler" type="button" onclick="toggleSidebar()">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="staff_dashboard.html">
                            <i class="fas fa-tachometer-alt"></i> Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="staff_menu.html">
                            <i class="fas fa-utensils"></i> Record Sale
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="staff_receipt.html">
                            <i class="fas fa-receipt"></i> Receipt
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="staff_ingredients.html">
                            <i class="fas fa-carrot"></i> Ingredients
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="staff_reports.html">
                            <i class="fas fa-chart-bar"></i> Reports
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user-circle"></i> 
                            <span id="userName">Loading...</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="staff_settings.html">
                                <i class="fas fa-cog me-2"></i>Settings
                            </a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item text-danger" href="#" onclick="logout()">
                                <i class="fas fa-sign-out-alt me-2"></i>Logout
                            </a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-lg-2 col-md-3 sidebar no-print" id="sidebar">
                <a href="staff_dashboard.html" class="sidebar-item">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a>
                <a href="staff_menu.html" class="sidebar-item">
                    <i class="fas fa-utensils"></i> Record Sale
                </a>
                <a href="staff_receipt.html" class="sidebar-item">
                    <i class="fas fa-receipt"></i> Receipt
                </a>
                <a href="staff_ingredients.html" class="sidebar-item">
                    <i class="fas fa-carrot"></i> Ingredients
                </a>
                <a href="staff_reports.html" class="sidebar-item active">
                    <i class="fas fa-chart-bar"></i> Reports
                </a>
                <a href="staff_settings.html" class="sidebar-item">
                    <i class="fas fa-cog"></i> Settings
                </a>
            </div>
            
            <!-- Main Content -->
            <div class="col-lg-10 col-md-9 main-content">
                <!-- Page Header -->
                <div class="page-header mb-4">
                    <h2>
                        <i class="fas fa-chart-bar me-2"></i>Reports
                    </h2>
                    <p class="page-description">Daily operational reference (Limited Access)</p>
                </div>
                
                <!-- Alert Messages -->
                <div class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i>
                    <strong>Note:</strong> Available reports are printable PDFs only. No historical analytics or financial data.
                </div>
                
                <!-- Report Selection -->
                <div class="card mb-4 no-print">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-file-alt me-2"></i>
                            Available Reports
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-4 col-md-6 mb-4">
                                <div class="report-card" onclick="selectReport('sales')" id="salesReportCard">
                                    <div class="report-icon">
                                        <i class="fas fa-shopping-cart"></i>
                                    </div>
                                    <div class="report-title">Daily Sales Report</div>
                                    <div class="report-description">
                                        Summary of today's sales by quantity
                                    </div>
                                    <span class="badge bg-maroon">Quantity-based only</span>
                                </div>
                            </div>
                            
                            <div class="col-lg-4 col-md-6 mb-4">
                                <div class="report-card" onclick="selectReport('stock')" id="stockReportCard">
                                    <div class="report-icon">
                                        <i class="fas fa-boxes"></i>
                                    </div>
                                    <div class="report-title">Available Stock Report</div>
                                    <div class="report-description">
                                        Current ingredient stock levels
                                    </div>
                                    <span class="badge bg-light-blue">Inventory</span>
                                </div>
                            </div>
                            
                            <div class="col-lg-4 col-md-6 mb-4">
                                <div class="report-card" onclick="selectReport('lowstock')" id="lowstockReportCard">
                                    <div class="report-icon">
                                        <i class="fas fa-exclamation-triangle"></i>
                                    </div>
                                    <div class="report-title">Low Stock Alert Report</div>
                                    <div class="report-description">
                                        Ingredients below threshold level
                                    </div>
                                    <span class="badge bg-warning">Alerts</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Date Selection -->
                <div class="date-picker no-print" id="datePicker" style="display: none;">
                    <h5 class="mb-3">
                        <i class="fas fa-calendar-alt me-2"></i>
                        Select Date Range
                    </h5>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">Start Date</label>
                            <input type="date" class="form-control" id="startDate" value="2024-01-29">
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">End Date</label>
                            <input type="date" class="form-control" id="endDate" value="2024-01-29">
                        </div>
                    </div>
                    <div class="d-flex justify-content-between">
                        <div>
                            <button class="btn btn-outline-maroon" onclick="generateReport()">
                                <i class="fas fa-sync-alt me-2"></i>Generate Report
                            </button>
                            <button class="btn btn-outline-secondary ms-2" onclick="resetReport()">
                                <i class="fas fa-times me-2"></i>Reset
                            </button>
                        </div>
                        <div>
                            <button class="btn btn-light-blue" onclick="printReport()">
                                <i class="fas fa-print me-2"></i>Print Report
                            </button>
                            <button class="btn btn-maroon ms-2" onclick="downloadPDF()">
                                <i class="fas fa-download me-2"></i>Download PDF
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Report Preview -->
                <div class="report-preview" id="reportPreview">
                    <div class="preview-header">
                        <div class="preview-title">ETHAN'S CAFE RESTAURANT</div>
                        <div>Daily Sales Report</div>
                        <div>Date: January 29, 2024</div>
                        <div>Generated: Today, 14:30</div>
                    </div>
                    
                    <div class="preview-content">
                        <!-- Sales Report Content -->
                        <div id="salesReportContent" style="overflow: auto;">
                            <table class="report-table">
                                <thead>
                                    <tr>
                                        <th>Menu Item</th>
                                        <th>Category</th>
                                        <th>Quantity Sold</th>
                                        <th>Last Sale</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Margherita Pizza</td>
                                        <td>Pizza</td>
                                        <td>28</td>
                                        <td>14:25</td>
                                    </tr>
                                    <tr>
                                        <td>Spaghetti Carbonara</td>
                                        <td>Pasta</td>
                                        <td>22</td>
                                        <td>14:10</td>
                                    </tr>
                                    <tr>
                                        <td>Classic Burger</td>
                                        <td>Burger</td>
                                        <td>18</td>
                                        <td>13:45</td>
                                    </tr>
                                    <tr>
                                        <td>Caesar Salad</td>
                                        <td>Salad</td>
                                        <td>15</td>
                                        <td>13:20</td>
                                    </tr>
                                    <tr>
                                        <td>Chocolate Cake</td>
                                        <td>Dessert</td>
                                        <td>12</td>
                                        <td>12:55</td>
                                    </tr>
                                    <tr>
                                        <td>Pepperoni Pizza</td>
                                        <td>Pizza</td>
                                        <td>10</td>
                                        <td>12:30</td>
                                    </tr>
                                    <tr>
                                        <td>Lasagna</td>
                                        <td>Pasta</td>
                                        <td>8</td>
                                        <td>12:05</td>
                                    </tr>
                                    <tr>
                                        <td>Fresh Lemonade</td>
                                        <td>Drink</td>
                                        <td>15</td>
                                        <td>11:40</td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <div class="mt-4 pt-3 border-top">
                                <div class="row text-center">
                                    <div class="col-4">
                                        <div class="fw-bold fs-4">127</div>
                                        <div>Total Sales Entries</div>
                                    </div>
                                    <div class="col-4">
                                        <div class="fw-bold fs-4">45</div>
                                        <div>Total Orders</div>
                                    </div>
                                    <div class="col-4">
                                        <div class="fw-bold fs-4">8</div>
                                        <div>Menu Items Sold</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-4 pt-3 border-top text-center text-muted">
                                <small>
                                    <i class="fas fa-info-circle me-1"></i>
                                    This report shows quantity sold only. No revenue or financial data included.
                                </small>
                            </div>
                        </div>
                        
                        <!-- Stock Report Content (Hidden by default) -->
                        <div id="stockReportContent" style="display: none;">
                            <table class="report-table">
                                <thead>
                                    <tr>
                                        <th>Ingredient</th>
                                        <th>Category</th>
                                        <th>Current Quantity</th>
                                        <th>Threshold</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Chicken Breast</td>
                                        <td>Meat</td>
                                        <td>15 kg</td>
                                        <td>5 kg</td>
                                        <td><span class="badge badge-normal">Normal</span></td>
                                    </tr>
                                    <tr>
                                        <td>Basil Leaves</td>
                                        <td>Spices</td>
                                        <td>200 g</td>
                                        <td>500 g</td>
                                        <td><span class="badge badge-low">Low</span></td>
                                    </tr>
                                    <tr>
                                        <td>Mozzarella Cheese</td>
                                        <td>Dairy</td>
                                        <td>8 kg</td>
                                        <td>2 kg</td>
                                        <td><span class="badge badge-normal">Normal</span></td>
                                    </tr>
                                    <tr>
                                        <td>Flour</td>
                                        <td>Grains</td>
                                        <td>25 kg</td>
                                        <td>10 kg</td>
                                        <td><span class="badge badge-normal">Normal</span></td>
                                    </tr>
                                    <tr>
                                        <td>Chili Powder</td>
                                        <td>Spices</td>
                                        <td>150 g</td>
                                        <td>300 g</td>
                                        <td><span class="badge badge-low">Low</span></td>
                                    </tr>
                                    <tr>
                                        <td>Salmon Fillet</td>
                                        <td>Seafood</td>
                                        <td>3 kg</td>
                                        <td>5 kg</td>
                                        <td><span class="badge badge-critical">Critical</span></td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <div class="mt-4 pt-3 border-top">
                                <div class="row text-center">
                                    <div class="col-4">
                                        <div class="fw-bold fs-4">45</div>
                                        <div>Total Ingredients</div>
                                    </div>
                                    <div class="col-4">
                                        <div class="fw-bold fs-4 text-success">38</div>
                                        <div>Normal Stock</div>
                                    </div>
                                    <div class="col-4">
                                        <div class="fw-bold fs-4 text-warning">6</div>
                                        <div>Low Stock</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Low Stock Report Content (Hidden by default) -->
                        <div id="lowstockReportContent" style="display: none;">
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle me-2"></i>
                                <strong>Low Stock Alert Report</strong> - Ingredients below threshold level
                            </div>
                            
                            <table class="report-table">
                                <thead>
                                    <tr>
                                        <th>Ingredient</th>
                                        <th>Category</th>
                                        <th>Current Quantity</th>
                                        <th>Threshold</th>
                                        <th>Difference</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <i class="fas fa-seedling me-2"></i>
                                            Basil Leaves
                                        </td>
                                        <td>Spices</td>
                                        <td>200 g</td>
                                        <td>500 g</td>
                                        <td class="text-danger">-300 g</td>
                                        <td><span class="badge badge-low">Low</span></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="fas fa-pepper-hot me-2"></i>
                                            Chili Powder
                                        </td>
                                        <td>Spices</td>
                                        <td>150 g</td>
                                        <td>300 g</td>
                                        <td class="text-danger">-150 g</td>
                                        <td><span class="badge badge-low">Low</span></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="fas fa-fish me-2"></i>
                                            Salmon Fillet
                                        </td>
                                        <td>Seafood</td>
                                        <td>3 kg</td>
                                        <td>5 kg</td>
                                        <td class="text-danger">-2 kg</td>
                                        <td><span class="badge badge-critical">Critical</span></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="fas fa-bread-slice me-2"></i>
                                            Burger Buns
                                        </td>
                                        <td>Bakery</td>
                                        <td>15 pcs</td>
                                        <td>30 pcs</td>
                                        <td class="text-danger">-15 pcs</td>
                                        <td><span class="badge badge-low">Low</span></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="fas fa-cheese me-2"></i>
                                            Parmesan Cheese
                                        </td>
                                        <td>Dairy</td>
                                        <td>800 g</td>
                                        <td>1.5 kg</td>
                                        <td class="text-danger">-700 g</td>
                                        <td><span class="badge badge-low">Low</span></td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <div class="mt-4 pt-3 border-top">
                                <div class="alert alert-danger">
                                    <i class="fas fa-bell me-2"></i>
                                    <strong>Action Required:</strong> Please restock these items as soon as possible.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Report Information -->
                <div class="card mt-4 no-print">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-info-circle me-2"></i>
                            Report Information
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="alert alert-success">
                                    <i class="fas fa-check-circle me-2"></i>
                                    <strong>What's Included:</strong>
                                    <ul class="mb-0 mt-2">
                                        <li>Daily Sales Report (quantity-based)</li>
                                        <li>Available Ingredient Stock Report</li>
                                        <li>Printable PDF format</li>
                                        <li>Date-based filtering</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="alert alert-warning">
                                    <i class="fas fa-exclamation-triangle me-2"></i>
                                    <strong>What's NOT Included:</strong>
                                    <ul class="mb-0 mt-2">
                                        <li>Historical analytics</li>
                                        <li>Financial data/revenue</li>
                                        <li>Profit calculations</li>
                                        <li>Advanced filtering</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script>
        let selectedReport = 'sales';
        
        document.addEventListener('DOMContentLoaded', function() {
            // Check login
            const user = JSON.parse(localStorage.getItem('user'));
            if (!user || !user.loggedIn) {
                window.location.href = 'index.html';
                return;
            }
            
            // Update user name
            document.getElementById('userName').textContent = user.name || user.username;
            
            // Set default dates
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('startDate').value = today;
            document.getElementById('endDate').value = today;
            
            // Initialize report selection
            selectReport('sales');
        });
        
        // Select report type
        function selectReport(reportType) {
            selectedReport = reportType;
            
            // Update active card
            document.querySelectorAll('.report-card').forEach(card => {
                card.style.borderColor = 'transparent';
                card.style.boxShadow = '0 6px 15px rgba(0,0,0,0.1)';
            });
            
            const activeCard = document.getElementById(`${reportType}ReportCard`);
            if (activeCard) {
                activeCard.style.borderColor = 'var(--maroon)';
                activeCard.style.boxShadow = '0 15px 30px rgba(128,0,0,0.2)';
            }
            
            // Show date picker
            document.getElementById('datePicker').style.display = 'block';
            
            // Update report preview
            updateReportPreview();
        }
        
        // Update report preview
        function updateReportPreview() {
            // Hide all report contents
            document.getElementById('salesReportContent').style.display = 'none';
            document.getElementById('stockReportContent').style.display = 'none';
            document.getElementById('lowstockReportContent').style.display = 'none';
            
            // Show selected report content
            document.getElementById(`${selectedReport}ReportContent`).style.display = 'block';
            
            // Update preview header
            const previewTitle = document.querySelector('.preview-title');
            const previewSubtitle = previewTitle.nextElementSibling;
            
            switch(selectedReport) {
                case 'sales':
                    previewTitle.textContent = 'DAILY SALES REPORT';
                    previewSubtitle.textContent = 'Quantity-based sales summary';
                    break;
                case 'stock':
                    previewTitle.textContent = 'INGREDIENT STOCK REPORT';
                    previewSubtitle.textContent = 'Current inventory levels';
                    break;
                case 'lowstock':
                    previewTitle.textContent = 'LOW STOCK ALERT REPORT';
                    previewSubtitle.textContent = 'Items below threshold level';
                    break;
            }
            
            // Update date in header
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            const dateElement = previewSubtitle.nextElementSibling;
            
            if (startDate === endDate) {
                const date = new Date(startDate);
                dateElement.textContent = `Date: ${date.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })}`;
            } else {
                dateElement.textContent = `Date Range: ${startDate} to ${endDate}`;
            }
        }
        
        // Generate report
        function generateReport() {
            // Show loading
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Generating...';
            btn.disabled = true;
            
            // Simulate API call
            setTimeout(() => {
                // Update report preview
                updateReportPreview();
                
                // Reset button
                btn.innerHTML = originalText;
                btn.disabled = false;
                
                // Show success message
                showToast('Report generated successfully!', 'success');
                
            }, 1500);
        }
        
        // Reset report
        function resetReport() {
            // Reset dates to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('startDate').value = today;
            document.getElementById('endDate').value = today;
            
            // Reset to sales report
            selectReport('sales');
            
            showToast('Report selection reset', 'info');
        }
        
        // Print report
        function printReport() {
            // Show loading
            showToast('Opening print preview...', 'info');
            
            // Add print-specific styles
            const style = document.createElement('style');
            style.innerHTML = `
                @media print {
                    body * {
                        visibility: hidden;
                    }
                    .report-preview, .report-preview * {
                        visibility: visible;
                    }
                    .report-preview {
                        position: absolute;
                        left: 0;
                        top: 0;
                        width: 100%;
                        border: 2px solid #000;
                        box-shadow: none;
                    }
                }
            `;
            document.head.appendChild(style);
            
            // Print
            setTimeout(() => {
                window.print();
                style.remove();
            }, 500);
        }
        
        // Download PDF
        function downloadPDF() {
            // Show loading
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Preparing...';
            btn.disabled = true;
            
            // Simulate PDF generation
            setTimeout(() => {
                // Reset button
                btn.innerHTML = originalText;
                btn.disabled = false;
                
                // Show success message
                showToast('PDF download started', 'success');
                
                // In a real system, this would trigger a file download
                // For now, we'll just show a message
                alert('PDF file would be downloaded in a real system.');
                
            }, 2000);
        }
        
        // Show toast notification
        function showToast(message, type = 'info') {
            const toastContainer = document.querySelector('.toast-container') || createToastContainer();
            const toastId = 'toast-' + Date.now();
            
            const icon = type === 'success' ? 'fa-check-circle' :
                         type === 'warning' ? 'fa-exclamation-triangle' :
                         type === 'error' ? 'fa-times-circle' : 'fa-info-circle';
            
            const color = type === 'success' ? 'green' :
                          type === 'warning' ? 'warning' :
                          type === 'error' ? 'danger' : 'light-blue';
            
            const toastHTML = `
                <div class="toast" id="${toastId}" role="alert">
                    <div class="toast-header">
                        <i class="fas ${icon} text-${color} me-2"></i>
                        <strong class="me-auto">System Message</strong>
                        <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
                    </div>
                    <div class="toast-body">${message}</div>
                </div>
            `;
            
            toastContainer.insertAdjacentHTML('beforeend', toastHTML);
            
            const toastElement = document.getElementById(toastId);
            const toast = new bootstrap.Toast(toastElement);
            toast.show();
            
            // Remove toast after it hides
            toastElement.addEventListener('hidden.bs.toast', function() {
                this.remove();
            });
        }
        
        // Create toast container if not exists
        function createToastContainer() {
            const container = document.createElement('div');
            container.className = 'toast-container';
            document.body.appendChild(container);
            return container;
        }
        
        // Toggle sidebar on mobile
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('show');
        }
        
        // Logout function
        function logout() {
            localStorage.removeItem('user');
            window.location.href = 'index.html?logout=true';
        }
    </script>
</body>
</html>